{
  "query": "-- Criar Ciclo -1: Setup e Configuração\nINSERT INTO cycles (title, description, `order`, thumbnailUrl, isPublished, createdAt, updatedAt)\nVALUES (\n  'Setup: Configuração Inicial',\n  'Conecta as tuas contas Strava e Garmin para sincronizar treino físico com treino mental. Esta configuração permite-nos criar insights personalizados baseados no teu desempenho real.',\n  -1,\n  'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=800',\n  1,\n  NOW(),\n  NOW()\n);\n\nSET @setup_cycle_id = LAST_INSERT_ID();\n\n-- Criar 2 secções no Ciclo -1: Strava e Garmin\nINSERT INTO weeks (cycleId, title, description, weekNumber, weekGroup, type, isPublished, createdAt, updatedAt)\nVALUES \n(\n  @setup_cycle_id,\n  'Conectar Strava',\n  'Sincroniza as tuas atividades do Strava para análise integrada de treino físico e mental.',\n  1,\n  1,\n  'topic',\n  1,\n  NOW(),\n  NOW()\n),\n(\n  @setup_cycle_id,\n  'Conectar Garmin',\n  'Conecta o teu dispositivo Garmin para acesso a métricas avançadas como VO2max, carga de treino e recuperação.',\n  2,\n  2,\n  'topic',\n  1,\n  NOW(),\n  NOW()\n);\n\n-- Criar tabela de integrações (se não existir)\nCREATE TABLE IF NOT EXISTS user_integrations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  provider VARCHAR(50) NOT NULL COMMENT 'strava, garmin, etc',\n  accessToken TEXT,\n  refreshToken TEXT,\n  expiresAt BIGINT,\n  isActive BOOLEAN DEFAULT TRUE,\n  metadata JSON COMMENT 'Dados adicionais como athlete_id, username, etc',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_user_provider (userId, provider),\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user i85uFKDwpvRSYau.be51874fae2b --database SDSD6dYMrjnK6khV9TAsBM --execute -- Criar Ciclo -1: Setup e Configuração\nINSERT INTO cycles (title, description, `order`, thumbnailUrl, isPublished, createdAt, updatedAt)\nVALUES (\n  'Setup: Configuração Inicial',\n  'Conecta as tuas contas Strava e Garmin para sincronizar treino físico com treino mental. Esta configuração permite-nos criar insights personalizados baseados no teu desempenho real.',\n  -1,\n  'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=800',\n  1,\n  NOW(),\n  NOW()\n);\n\nSET @setup_cycle_id = LAST_INSERT_ID();\n\n-- Criar 2 secções no Ciclo -1: Strava e Garmin\nINSERT INTO weeks (cycleId, title, description, weekNumber, weekGroup, type, isPublished, createdAt, updatedAt)\nVALUES \n(\n  @setup_cycle_id,\n  'Conectar Strava',\n  'Sincroniza as tuas atividades do Strava para análise integrada de treino físico e mental.',\n  1,\n  1,\n  'topic',\n  1,\n  NOW(),\n  NOW()\n),\n(\n  @setup_cycle_id,\n  'Conectar Garmin',\n  'Conecta o teu dispositivo Garmin para acesso a métricas avançadas como VO2max, carga de treino e recuperação.',\n  2,\n  2,\n  'topic',\n  1,\n  NOW(),\n  NOW()\n);\n\n-- Criar tabela de integrações (se não existir)\nCREATE TABLE IF NOT EXISTS user_integrations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  provider VARCHAR(50) NOT NULL COMMENT 'strava, garmin, etc',\n  accessToken TEXT,\n  refreshToken TEXT,\n  expiresAt BIGINT,\n  isActive BOOLEAN DEFAULT TRUE,\n  metadata JSON COMMENT 'Dados adicionais como athlete_id, username, etc',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_user_provider (userId, provider),\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 508
}